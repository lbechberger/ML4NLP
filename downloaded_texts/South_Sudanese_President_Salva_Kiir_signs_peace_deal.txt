Salva Kiir, the President of South Sudan, yesterday signed a deal designed to end a civil ethnic conflict that has killed thousands and displaced over two million.

Under the deal Kiir will share power with Riek Machar. Machar was Vice President but Kiir sacked him in 2013. December that year saw the dispute turn to war. Kiir is a Dinka while Machar is a Nuer, and the conflict has largely split along these racial lines.

Kiir spoke of "serious reservations" at the signing ceremony in Juba. He is concerned about a requirement to consult "First Vice President" Machar, as he will be under the deal, on policies. He is also concerned about demilitarisation of Juba.

The deal to close the 20-month conflict was negotiated in Ethiopia, where Machar signed the same deal last week. Several ceasefires have failed over months of talks. Kiir, the only leader in South Sudan since independence in 2011, sought an extension of a two-week deadline but signed yesterday after United Nations sanctions were threatened.

Both sides accused the other of continuing hostilities. The rebels claimed government forces attacked them south of Juba, but say they were victorious. Kiir claimed the rebels attacked a northern position. Kiir says international leaders were "careless" with negotiations and warned a flawed deal could do more harm.

Ugandan President Yoweri Museveni, Ethiopian Prime Minister Hailemariam Desalegn, Kenyan President Uhuru Kenyatta, and UN secretary-general Ban Ki-moon all expressed their approval of the deal's signing. Kenyatta called it a "happy day for us in the region". Earlier in the day he warned there was "no such thing as a perfect agreement" and Museveni said the conflict was "the wrong war in the wrong place at the wrong time".